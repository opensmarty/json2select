
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title> json2select </title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="editplus" />
	<meta name="author" content="Shawphy(shawphy.com)" />
	<link type="text/css" rel="stylesheet" rev="stylesheet" href="css/index.css" media="all" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
	<script type="text/javascript" src="json2select.min.js"></script>
	<script type="text/javascript" src="areaJson.js"></script>
</head>
<body>
<h1>json2select 演示</h1>
<a href="http://cnweb.org/down/areajson/">这里</a>可以下载到 由 <a href="http://www.cnitblog.com/asfman/">Asfman</a> 从搜狐白社会导出原始数据 并由 <a href="http://cnweb.org/">Noker</a>压缩的全国城市数据
<div id="selectt"></div>
<script type="text/javascript">
<!--
//构建如下json，t为列表框的text,v为列表框的value，s表示子一级对象
var json=[
	{
		t:"欧洲某地",
		v:"欧洲"
	},
	{
		t:"中国某地",
		v:"中国",
		s:[
			{
				t:"上海",
				v:"上海"
			},
			{
				t:"云南某地",
				v:"云南",
				s:[
					{
						t:"大理",
						v:"大理"
					}
				]
			}
		]
	},
	{
		t:"日本某地",
		v:"日本",
		s:[
			{
				t:"东京",
				v:"东京"
			},
			{
				t:"北海道",
				v:"北海道",
				s:[
					{
						t:"北海道的某个地方",
						v:"北海道的某个地方"
					}
				]
			}
		]
	}
];
//调用即可
$("#selectt").json2select(areaJson);
//-->
</script>
<p>
js源码下载 <a href="http://shawphy.googlecode.com/svn/javascript/json2select/json2select.js">这里</a>
min版下载 <a href="http://shawphy.googlecode.com/svn/javascript/json2select/json2select.min.js">这里</a>
</p>
<pre style="border:1px solid #999;background:#eee;"><code>
/*
 * json2select
 *
 * Copyright (c) 2008 Shawphy (shawphy.com)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

/*
 * Create selects from JSON
 * 
 * @example $("#selectt").json2select( json[, dft[, name[, deep]]] );
 * @desc 在#selectt中通过d创建一组关联的select
 *
 * @param json,格式如下,t为列表框的text,v为列表框的value，s表示子一级对象
 *   var json=[
 *   	{
 *   		t:"欧洲某地",
 *   		v:"欧洲"
 *   	},
 *   	{
 *   		t:"中国某地",
 *   		v:"中国",
 *   		s:[
 *   			{
 *   				t:"上海",
 *   				v:"上海"
 *   			},
 *   			{
 *   				t:"云南某地",
 *   				v:"云南某地",
 *   				s:[
 *   					{
 *   						t:"大理",
 *   						v:"大理"
 *   					}
 *   				]
 *   			}
 *   		]
 *   	},
 *   	{
 *   		t:"日本某地",
 *   		v:"日本",
 *   		s:[
 *   			{
 *   				t:"东京",
 *   				v:"东京"
 *   			},
 *   			{
 *   				t:"北海道",
 *   				v:"北海道",
 *   				s:[
 *   					{
 *   						t:"北海道的某个地方",
 *   						v:"北海道的某个地方"
 *   					}
 *   				]
 *   			}
 *   		]
 *   	}
 *   ];
 * @param dft,	可选,	数组，设置默认值，如["中国","云南","大理"]
 * @param name,字符串，默认值：sel，用于设置select的name的前缀
 * @param deep,整形数字，默认值：0，用于设置初始的深度，如设置为0，
 *				则第一个select的name属性就是sel0,第二个就是sel1,接着sel2,sel3,sel4以此排下去。
 * @return 调用它的对象
 * @type jQuery对象
 *
 * 举例：
 * $("#selectt").json2select(json,["中国","云南","大理"]);
 */

</code></pre>
</body>
</html>
